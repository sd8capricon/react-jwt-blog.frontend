(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(20),o=c.n(n),s=c(8),r=c(7),j=c(80),l=c(83),i=c(85),b=c(1);var d=function(){return Object(b.jsxs)(l.a,{variant:"dark",bg:"dark",className:"Nav",expand:"md",sticky:"top",children:[Object(b.jsx)(l.a.Brand,{className:"Nav-brand",href:"/",children:"React-JWT-Blog"}),Object(b.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsxs)(i.a,{className:"mr-auto",children:[Object(b.jsx)(i.a.Link,{href:"/",children:"Home"}),Object(b.jsx)(i.a.Link,{href:"/blogs",children:"Blogs"}),Object(b.jsx)(i.a.Link,{href:"/admin/login",children:"Admin Login"}),Object(b.jsx)(i.a.Link,{href:"/admin",children:"Admin Panel"})]})})]})};c(29);var O=function(){return Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{className:"homeInnerDiv",children:[Object(b.jsx)("h1",{className:"pageHeading",children:"Home"}),Object(b.jsx)("p",{className:"homePara",children:"This is the Home Page of my project. The Admin Authenticatin is Handled by using JWT and Blogs are Stored in MongoDB atlas. The Blogs are displayed as per the time and date of creation, press the button below to view blogs at glance"}),Object(b.jsx)(s.b,{to:"/blogs",children:Object(b.jsx)(j.a,{variant:"dark",children:"To Blogs"})})]})]})},h=c(6),u=c(9),x=c.n(u);var g=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(!0),r=Object(h.a)(o,2),j=r[0],l=r[1];return Object(a.useEffect)((function(){x()({method:"GET",url:"https://react-jwt-blog-backend.herokuapp.com/backend/blogs"}).then((function(e){console.log(e.data),n(e.data),l(!1)})).catch((function(e){console.log(e),l(!0)}))}),[]),Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),c.map((function(e){return Object(b.jsxs)("div",{className:"mapBlogDiv",children:[Object(b.jsx)("h3",{children:e.title}),Object(b.jsxs)("p",{children:[e.body.substring(0,400),Object(b.jsx)("br",{}),Object(b.jsx)(s.b,{to:"/blogs/"+e.title,children:"...Click here to view full post"})]}),Object(b.jsx)("hr",{})]},e._id)})),j?Object(b.jsx)("p",{style:{color:"red"},children:"Error Getting Blogs From Server"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("br",{}),Object(b.jsx)("p",{})]})]})};var m=function(){var e=Object(r.f)().post,t=Object(a.useState)([]),c=Object(h.a)(t,2),n=c[0],o=c[1];return Object(a.useEffect)((function(){x()({method:"GET",url:"https://react-jwt-blog-backend.herokuapp.com/backend/blogstitle/"+e}).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[e]),Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{className:"mapBlogDiv",children:[Object(b.jsx)("h1",{children:n.title}),Object(b.jsx)("p",{children:n.body})]})]})},p=c(81),v=c(82),f=c(44);function k(){return Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{className:"adminDiv",children:[Object(b.jsx)("h1",{children:"Admin User is not logged in"}),Object(b.jsx)(s.b,{to:"/",children:Object(b.jsx)(j.a,{variant:"dark",children:"Home"})})," ",Object(b.jsx)(s.b,{to:"/blogs",children:Object(b.jsx)(j.a,{variant:"dark",children:"Blogs"})})," ",Object(b.jsx)(s.b,{to:"/admin/login",children:Object(b.jsx)(j.a,{variant:"dark",children:"Login"})})," "]})]})}var S=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("admin");x()({method:"POST",url:"https://react-jwt-blog-backend.herokuapp.com/backend/authenticate/verify",data:{token:e}}).then((function(e){!0===e.data.authStatus?n(!0):n(!1)})).catch((function(e){console.log(e),n(!1)}))}),[]),c?Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{className:"adminPanel",children:[Object(b.jsx)("h1",{children:"Admin Panel"}),Object(b.jsx)("br",{}),Object(b.jsxs)(p.a,{children:[Object(b.jsxs)(v.a,{children:[Object(b.jsx)(f.a,{className:"panelCol",md:4,children:Object(b.jsx)(s.b,{to:"/admin/compose",children:Object(b.jsxs)(j.a,{variant:"dark",children:["Compose",Object(b.jsx)("br",{}),"Here You Can Compose New Blogs"]})})}),Object(b.jsx)(f.a,{className:"panelCol",md:4,children:Object(b.jsx)(s.b,{to:"/admin/edit",children:Object(b.jsxs)(j.a,{variant:"dark",children:["Edit",Object(b.jsx)("br",{}),"Here You Can Edit Existing Blogs"]})})}),Object(b.jsx)(f.a,{className:"panelCol",md:4,children:Object(b.jsx)(s.b,{to:"/admin/delete",children:Object(b.jsxs)(j.a,{variant:"dark",children:["Delete",Object(b.jsx)("br",{}),"Here You Can Delete Existing Blogs"]})})})]}),Object(b.jsx)(v.a,{children:Object(b.jsx)(f.a,{className:"panelCol",children:Object(b.jsxs)(j.a,{variant:"dark",onClick:function(){localStorage.removeItem("admin"),window.location="/"},children:["Logout",Object(b.jsx)("br",{}),"Ends Your Admin Session"]})})})]})]})]}):Object(b.jsx)(k,{})},y=c(84);var w=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(""),s=Object(h.a)(o,2),r=s[0],l=s[1],i=Object(a.useState)(!1),O=Object(h.a)(i,2),u=O[0],g=O[1],m=Object(a.useState)(""),p=Object(h.a)(m,2),v=p[0],f=p[1];return Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{className:"adminDiv",children:[Object(b.jsx)("h1",{style:{marginBottom:"5%"},children:"Admin Login"}),Object(b.jsxs)(y.a,{className:"adminForm adminLoginForm",onSubmit:function(e){e.preventDefault(),x()({method:"POST",url:"https://react-jwt-blog-backend.herokuapp.com/backend/authenticate/login",data:{username:c,password:r}}).then((function(e){console.log(e.data),!0===e.data.authenticated&&(window.localStorage.setItem("admin",e.data.token),window.location="/admin"),!1===e.data.authenticated&&(g(!0),f(e.data.error))})).catch((function(e){console.log(e),g(!0),f("Error Connecting To Server")}))},children:[Object(b.jsx)(y.a.Label,{children:"Username"}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Control,{type:"text",value:c,onChange:function(e){n(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Label,{children:"Password"}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Control,{type:"password",autoComplete:"on",value:r,onChange:function(e){l(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{variant:"dark",type:"submit",children:"Log In"}),Object(b.jsx)("br",{}),u?Object(b.jsx)("label",{style:{color:"red"},children:v}):Object(b.jsx)("label",{})]})]})]})};var T=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(!1),r=Object(h.a)(o,2),l=r[0],i=r[1],O=Object(a.useState)(""),u=Object(h.a)(O,2),g=u[0],m=u[1],p=Object(a.useState)(""),v=Object(h.a)(p,2),f=v[0],S=v[1],w=Object(a.useState)(""),T=Object(h.a)(w,2),B=T[0],E=T[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("admin");x()({method:"POST",url:"https://react-jwt-blog-backend.herokuapp.com/backend/authenticate/verify",data:{token:e}}).then((function(e){!0===e.data.authStatus?n(!0):n(!1)})).catch((function(e){console.log(e),n(!1)}))}),[]),c?Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{textAlign:"center",margin:"2%"},children:"Compose Blog"}),Object(b.jsxs)(y.a,{className:"adminForm",onSubmit:function(e){e.preventDefault(),x()({method:"POST",url:"https://react-jwt-blog-backend.herokuapp.com/backend/compose",data:{title:f,content:B}}).then((function(e){console.log(e),!1===e.data.isError?window.location="/admin":!0===e.data.isError&&(i(!0),"Post validation failed: body: Path `body` is required."===e.data.error.message?m("Body Of The Blog Cannot Be Empty"):"Post validation failed: title: Path `title` is required."===e.data.error.message&&m("Title Of The Blog Cannot Be Empty"))})).catch((function(e){console.log(e),i(!0),m("Error Connecting To Server")}))},children:[Object(b.jsx)(y.a.Label,{children:"Title"}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Control,{type:"text",onChange:function(e){S(e.target.value)},value:f}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Label,{children:"Body"}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Control,{as:"textarea",rows:12,onChange:function(e){E(e.target.value)},value:B}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{variant:"dark",type:"submit",children:"Submit"}),l?Object(b.jsx)("p",{style:{color:"red"},children:g}):Object(b.jsx)("p",{}),Object(b.jsx)(s.b,{to:"/admin",children:Object(b.jsx)(j.a,{variant:"dark",children:"Back To Panel"})})]})]})]}):Object(b.jsx)(k,{})};var B=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(!1),r=Object(h.a)(o,2),l=r[0],i=r[1],O=Object(a.useState)(""),u=Object(h.a)(O,2),g=u[0],m=u[1],p=Object(a.useState)("select"),v=Object(h.a)(p,2),f=v[0],S=v[1],w=Object(a.useState)([]),T=Object(h.a)(w,2),B=T[0],E=T[1],C=Object(a.useState)(""),N=Object(h.a)(C,2),P=N[0],L=N[1],D=Object(a.useState)(""),A=Object(h.a)(D,2),H=A[0],I=A[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("admin");x()({method:"POST",url:"https://react-jwt-blog-backend.herokuapp.com/backend/authenticate/verify",data:{token:e}}).then((function(e){console.log(e),!0===e.data.authStatus?n(!0):n(!1)})).catch((function(e){console.log(e),n(!1)})),x()({method:"GET",url:"https://react-jwt-blog-backend.herokuapp.com/backend/blogs"}).then((function(e){E(e.data)}))}),[]),Object(a.useEffect)((function(){"select"!==f?x()({method:"GET",url:"https://react-jwt-blog-backend.herokuapp.com/backend/blogsid/"+f}).then((function(e){L(e.data.title),I(e.data.body)})):(L(""),I(""))}),[f]),c?Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{textAlign:"center",margin:"2%"},children:"Edit Blog"}),Object(b.jsxs)(y.a,{className:"adminForm",onSubmit:function(e){e.preventDefault(),"select"!==f?x()({method:"PUT",url:"https://react-jwt-blog-backend.herokuapp.com/backend/update/"+f,data:{title:P,content:H}}).then((function(e){console.log(e),!1===e.data.isError?window.location="/admin":!0===e.data.isError&&i(!0)})).catch((function(e){console.log(e),i(!0),m("Error Connecting To Server")})):alert("Please Select Blog To Edit")},children:[Object(b.jsx)(y.a.Label,{children:"Select Blog"}),Object(b.jsx)("br",{}),Object(b.jsxs)("select",{onChange:function(e){console.log(e.target.value),S(e.target.value)},children:[Object(b.jsx)("option",{value:"select",children:"Select"}),B.map((function(e){return Object(b.jsx)("option",{value:e._id,children:e.title},e._id)}))]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Label,{children:"Title"}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Control,{type:"text",onChange:function(e){L(e.target.value)},value:P}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Label,{children:"Body"}),Object(b.jsx)("br",{}),Object(b.jsx)(y.a.Control,{as:"textarea",rows:12,onChange:function(e){I(e.target.value)},value:H}),Object(b.jsx)("br",{}),Object(b.jsx)(j.a,{variant:"dark",type:"submit",children:"Submit"}),l?Object(b.jsx)("p",{children:g}):Object(b.jsx)("p",{}),Object(b.jsx)(s.b,{to:"/admin",children:Object(b.jsx)(j.a,{variant:"dark",children:"Back To Panel"})})]})]}),Object(b.jsx)("br",{})]}):Object(b.jsx)(k,{})},E=c(45);var C=function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)("select"),r=Object(h.a)(o,2),l=r[0],i=r[1],O=Object(a.useState)([]),u=Object(h.a)(O,2),g=u[0],m=u[1],p=Object(a.useState)(""),v=Object(h.a)(p,2),f=v[0],S=v[1],y=Object(a.useState)(""),w=Object(h.a)(y,2),T=w[0],B=w[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("admin");x()({method:"POST",url:"https://react-jwt-blog-backend.herokuapp.com/backend/authenticate/verify",data:{token:e}}).then((function(e){console.log(e),!0===e.data.authStatus?n(!0):n(!1)})).catch((function(e){console.log(e),n(!1)})),x()({method:"GET",url:"https://react-jwt-blog-backend.herokuapp.com/backend/blogs"}).then((function(e){m(e.data)}))}),[]),Object(a.useEffect)((function(){"select"!==l?x()({method:"GET",url:"https://react-jwt-blog-backend.herokuapp.com/backend/blogsid/"+l}).then((function(e){S(e.data.title),B(e.data.body)})):(S(""),B(""))}),[l]),c?Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{textAlign:"center",margin:"2%"},children:"Delete Blog"}),Object(b.jsxs)("div",{className:"adminForm",children:[Object(b.jsx)(E.a,{children:"Select Blog"}),Object(b.jsx)("br",{}),Object(b.jsxs)("select",{onChange:function(e){console.log(e.target.value),i(e.target.value)},children:[Object(b.jsx)("option",{value:"select",children:"Select"}),g.map((function(e){return Object(b.jsx)("option",{value:e._id,children:e.title},e._id)}))]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("h2",{style:{color:"rgb(80,80,80)"},children:"Title:"}),Object(b.jsx)("h3",{children:f}),Object(b.jsx)("br",{}),Object(b.jsx)("h2",{style:{color:"rgb(80,80,80)"},children:"Body:"}),Object(b.jsx)("p",{children:T}),Object(b.jsx)(j.a,{variant:"dark",onClick:function(){"select"!==l?x()({method:"DELETE",url:"https://react-jwt-blog-backend.herokuapp.com/backend/delete/"+l}).then((function(e){200===e.status&&(console.log("Blog Deleted"),window.location="/admin")})):alert("Select A Blog To Delete")},type:"submit",children:"Delete"}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{}),Object(b.jsx)(s.b,{to:"/admin",children:Object(b.jsx)(j.a,{variant:"dark",children:"Back To Panel"})})]})]}),Object(b.jsx)("br",{})]}):Object(b.jsx)(k,{})};var N=function(){return Object(b.jsxs)("div",{style:{background:" rgb(224, 224, 224)"},children:[Object(b.jsx)(d,{}),Object(b.jsx)("div",{children:Object(b.jsx)("h1",{style:{textAlign:"center",margin:"2%",marginTop:"40vh"},children:"404 Page Not Found"})})]})};var P=function(){return Object(b.jsx)("div",{children:Object(b.jsx)(s.a,{children:Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{exact:!0,path:"/blogs",component:g}),Object(b.jsx)(r.a,{path:"/blogs/:post",component:m}),Object(b.jsx)(r.a,{exact:!0,path:"/admin",component:S}),Object(b.jsx)(r.a,{path:"/admin/login",component:w}),Object(b.jsx)(r.a,{path:"/admin/compose",component:T}),Object(b.jsx)(r.a,{path:"/admin/edit",component:B}),Object(b.jsx)(r.a,{path:"/admin/delete",component:C}),Object(b.jsx)(r.a,{exact:!0,path:"/",component:O}),Object(b.jsx)(r.a,{component:N})]})})})};o.a.render(Object(b.jsx)(P,{}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.5f79350e.chunk.js.map